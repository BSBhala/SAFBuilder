SimpleArchiveFormat Builder
===========================

A tool that turns content files and a metadata spreadsheet into a Simple Archive Format package, which easily allows for batch import to DSpace, an Institutional Repository.

Author: Peter Dietz - [Longsight](http://longsight.com)

[Wiki entry on Simple Archive Format Packager](https://wiki.duraspace.org/display/DSPACE/Simple+Archive+Format+Packager "Simple Archive Format Package wiki entry")

Instructions
------------
You need Maven, Git, and Java JDK installed on your computer. You have to clone the code from Github, and then compile the program before it can be used. This should take about 20 seconds.
    git clone git://github.com/peterdietz/SAFBuilder.git
    cd SAFBuilder
    ./safbuilder.sh

With no arguments the system will print out the help.
> USAGE: BatchProcess /path/to/directory metadatafilename.csv
> Hint -- directory: Use absolute path and no trailing slashes
> Hint -- metadatafilename: needs to be in the directory, as do the content files

Included is some sample data to get started using the tool.
    ./safbuilder src/sample_data AAA_batch-metadata.csv


The previous version of the SAFBuilder tool did not use Maven to build everything. If you would like to use the previous method:
   git clone git://github.com/peterdietz/SAFBuilder.git
   cd SAFBuilder
   git checkout 1.x
   ./recompile.sh
   ./safbuilder.sh


Input
-----
A spreadsheet (.csv) with the following columns:
* filename for the bitstream/file
* metadata with namespace.element.(qualifer). Examples would be: dc.description or dc.contributor.author
![Image of a sample input spreadsheet with metadata](https://wiki.duraspace.org/download/attachments/20809267/metadata-spreadsheet.png?version=1&modificationDate=1276806916424 "sample spreadsheet with metadata")


Output
------
The output is a directory "SimpleArchiveFormat" in the directory you previously specified, and it contains subfolders.
    SimpleArchiveFormat/
        item_000/
            dublin_core.xml         -- qualified Dublin Core metadata for metadata fields belonging to the dc schema
            metadata_[prefix].xml   -- metadata in another schema, the prefix is the name of the schema as registered with the metadata registry
            contents                -- text file containing one line per filename
            file_1.doc              -- files to be added as bitstreams to the item
            file_2.pdf
        item_001/
            dublin_core.xml
            contents
            file_1.png
            ...

You can then import the SimpleArchiveFormat directory into DSpace as-is.

Additionally, there are installation guides for installing the SAFBuilder for your Operating System (Windows + Linux).
https://github.com/peterdietz/SAFBuilder/wiki


For Developers
--------------
As this uses Maven to manage dependencies, run mvn clean package between builds.
For end users, running "mvn clean package" every time is unneccesary, but it simplifies the instructions.